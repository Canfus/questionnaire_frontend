# Камская агломерация

## Структура проекта

- `api` - вся логика, связанная с работой `api`

  - `query` - запросы к `api` основанные на [@tanstack/react-query](https://tanstack.com/query/latest)
  - `models` - все модели для работы с `api`

- `common` - основной каталог переиспользуемых компонентов
  - `context` - контекст приложения
  - `hooks` - все кастомные хуки используемые в приложении
  - `store` - глобальное хранилище приложения
  - `types` - основные типы используемые в приложении
  - `ui` - компоненты, отвечающие за отображение
  - `utils` - вспомогательные утилиты
  - `widget` - сложные компоненты, использующие другие компоненты

- `pages` - страницы проекта

- `router` - основной роутинг внутри приложения

- `stories` - storybook для изолированного тестирования компонентов

## Переменные окружения
`./.env.local` - файл должен находиться в корневой директории проекта

```
VITE_API_URL=https://api.backend              #ссылка на api проекта
VITE_FRONT_URL=https://link.ru                #ссылка на сайт приложения
VITE_MEDIA_URL=https://questiontest.ipprt.ru  #ссылка на медиа ресурс
```

## Стек проекта

- `react-router-dom`: [react-router-dom v.6](https://reactrouter.com/en/main) - роутинг приложения
- `@radix-ui`: [@radix-ui](https://www.radix-ui.com/primitives) - примитивы `ui` компонентов
- `react-hook-form` : [react-hook-form](https://react-hook-form.com/) - работа с формами
- `zod`: [zod](https://zod.dev/) - валидация форм по схеме
- `@tanstack/react-query`: [TanStack query](https://tanstack.com/query/latest/docs/react/overview) - запросы с кешированием данных
- `storybook`: [storybook](https://storybook.js.org/) - изолированная среда тестирования компонентов

## Утилиты проекта

- [TypeScript](https://www.typescriptlang.org/) для статической типизации
- [ESLint](https://eslint.org/) для статического анализа кода для выявления проблем
- [Prettier](https://prettier.io) для автоматического форматирования кода

## Установка проекта

Для установки проекта, нужно сделать клон репозитория и установить все зависимости в корневую директорию:

```shell
git clone https://git.ipprt.ru/FanisGi/questionnaire_front.git
cd questionnaire_front
npm install
```

### Сборка проекта

Для сборки проекта, запустить следующую команду:

```shell
npm run build
```

### Запуск сборки

Для запуска собранной версии приложения, запустить следующую команду:

```shell
npm run preview
```

### Запуск сервера для разработки

Для запуска сервера для разработки, запустить следующую команду:

```shell
npm run dev
```

### Запуск изолированной среды тестирования компонентов

Для запуска изолированной среды тестирования компонентов, запустить следующую команду:

```shell
npm run storybook
```

### Проверка проекта на наличие ошибок

Для запуска проверки проекта на наличие ошибок, запустить следующую команду:

```shell
npm run tsc
```

### Форматирование проекта

Для автоматического форматирования всего проекта, запустить следующую команду:

```shell
npm run format
```

## Доступные скрипты

- `dev`: Запуск сервера для разработки
- `build`: Сборка проекта
- `preview`: Запуск собранной версии приложения
- `tsc`: Проверка проекта на наличие ошибок
- `format`: Автоматическое форматирование проекта
- `storybook`: Запуск изолированной среды тестирования компонентов
